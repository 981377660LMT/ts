## 慕课 TS 高级课程

### 【第二章 第 6 节】

### 2-6 用全栈的眼光带你更深入理解 TypeScript 类 【TS 类】

#### 1. 学习 TypeScript 类的深远意义

相对以前 JavaScript 不得不用 构造函数来充当”类“，TypeScript 类的出现可以说是一次技术革命。让开发出来的项目尤其是大中项目的可读性好，可扩展性好了不是一点半点。

TypeScrip 类的出现完全改变了前端领域项目代码编写模式，配合 TypeScript 静态语言，编译期间就能检查语法错误的优势【项目上线后隐藏语法错误的风险几乎为零，相比不用 TypeScript 开发项目，使用 TypeScript 后对前端项目尤其是大中项目的开发 或底层第三方插件，组件库的开发带来的优势已经超乎了想象】。

TypeScript 类让前端开发人员开发和组织项目或阅读各大前端框架源码的思维问题的方式变得更先进，更全面了许多。因为类是 OOP【面型对象编程】的技术基石，OOP 思想来自于生活，更利于开发人员思考技术问题。TypeScript 类已经成了每次前端面试的高频面试考点。

在前端各大流行框架开发的项目中，比如 Vue3 项目，Angular 项目， 基于 Antd UI 库的项目 还是后端 Nodejs 框架，比如：Nestjs，亦或是 Vue3 底层源码，都可以频频见到类的身影。

尽管 TypeScript 类照搬了 Java 后端语言的思想，但 TypeScript 类的底层依然是基于 JavaScript 的，这一点对于前端工程师更深入理解 TypeScript 打开了一条理解之道，提升他们更深厚的 JavaScript 功底从而为面试加分和项目的运用都提供了间接的帮助。

#### 2. TypeScript 哪些技能基于类？

TypeScript 类是 OOP 的技术基石，包括类、属性封装丶继承、多态、抽象丶泛型。紧密关联的技术包括方法重写，方法重载，构造器，构造器重载，类型守卫，自定义守卫，静态方法、属性，关联引用属性，多种设计模式等。

#### 3. 什么是类

定义：类就是拥有相同属性和方法的一系列对象的集合，类是一个摸具，是从这该类包含的所有具体对象中抽象出来的一个概念，类定义了它所包含的全体对象的静态特征和动态特征。

类有静态特征和动态特征【以大家最熟悉的人类为例】
静态特征【软件界叫属性】姓名，年龄,地址,身份证号码,联系方式,家庭地址,微信号
动态特征【软件界叫方法】吃饭，走路

【再看桌子类】

静态特征【属性】高度，宽度，颜色，价格，品牌，材质

动态特征【方法】承载

【来看订单类】

静态特征 【属性】 订单号【订单 id】，下单时间，下单顾客，订单详情，顾客微信，收件地址，负责客服

动态特征 【方法】 下单，修改订单，增加订单，删除订单，查询订单，退单 【这一些方法真正开发会归为 OrderService 类】 但从广义来说都同属于订单系列类的方法。

#### 4. 理解子类

（1）什么是子类？

有两个类，比如 A 类和 B 类，如果满足 A 类 is a kind of B 类，那么 A 类就是 B 类的子类
比如：A 类是顾客类，B 类是人类，因为顾客类 a kind of 人类成立【顾客类是人类的一种】，所以顾客类是人类的子类。

（2） 子类如何继承父类的属性和方法？

以顾客类为例子：顾客类继承了父类【人类】的非私有的属性和方法，也具备子类独有的属性和方法 。

顾客类继承父类【人类】的全部非私有的属性和方法外，还有哪些独有的属性和方法呢？
顾客类独有属性：顾客等级，顾客编号
顾客类独有方法：购买

#### 5. 什么是对象【对象也叫实例(instance)，对象变量也叫实例变量】

(1) 什么是对象【实例】？

就是一个拥有具体属性值和方法的实体，是类的一个具体表现，一个类可以创建 1 个或者多个对象

(2) 如何通过类来创建对象 【实例】？

```
let 对象变量名= new 类名（）
const 对象变量名= new 类名（）
```

(3) 如何根据 People 类来创 D 建叫张三对象【实例】的人？【举例】

let kateCust=new Customer() kateCust 是对象变量名 ，new Customer() 表示 new 出来的是一个 Customer 对象，而且是运行期间才在堆中分配 Customer 对象的内存空间 【 new 就是分配内存空间的意思】

（4）类的对象变量丶对象内存图展示

（5）类的对象变量，对象的关系

类的对象变量存在栈中，对象变量存储着对象的首地址，对象变量通过这个地址找到它的对象

### 【第二章 第 7 节】

#### 2-7 类—剖析 TypeScript 类 编译后的 JS 代码 【原生 ES5 语法】（JS 源码）

```
	var Person = /** @class */ (function () {
    function Person(name_, age_, phone_) {
        this.name = "noname"; //赋初值为noname
        this.age = 0;
        this.phone = "11111";
        this.name = name_;
        this.age = age_;
        this.phone = phone_;
    }
    Person.prototype.doEat = function (who, address) {
        console.log(this.name + "\u548C" + who + "\u5403\u996D,\u5728" + address + "\u5403\u996D");
    };
    Person.prototype.doStep = function () {
    };
    return Person;
  }());

    var zhangSanPerson = new Person("zhangSan", 23, "134123123");
    zhangSanPerson.doEat("李四", "王府井");
    console.log(zhangSanPerson);
```

### 【第二章 第 8 节】

#### 2-8 深度掌握 TypeScript 引用属性和它的真实应用场景

#### 1.1 如何理解类的引用属性【引用类型属性 】

（1）什么是引用属性：如果类中的属性的类型是引用类型，那么这个属性就是引用属性

引用属性的数据类型一般有数组 ，函数，类，对象类型[{.... }格式]，对象数组类型，集合类【Set，Map,自定义 集合类】

（2） 引用属性的经典应用场景

我们举几个经典的案例：

**真实应用场景 1：** 底层经典案例：如果我们使用 TypeScript 来开发一个 ES6 的 Set 集合类就是对数组的二次包装，在这个 Set 集合类中就需要包含一个数组的引用属性供 Set 类的各个方法来使用。

**真实应用场景 2：**底层经典案例：Promise 是前端很重要的技术，Promise 底层类中就采用了函数类型的引用属性【大家先只需要知晓，本课程后面章节会自己动手开发一个 Promise】。

**真实应用场景 3：**二次封装应用场景：Set 集合虽好，但不能使用 get(index) 直接取值，这也造成了取值不方便，如果我们自己动手封装一个包含了 add、get、remove、delete、query 的集合类【ArrayList】，这时也需要借助数组引用属性 。

**真实应用场景 4：**各种 Nodejs 后端项目构建的应用场景：我们以同学们相对熟悉的订单详情类和订单类为例，下面我们说明并定义电商平台必用的两个类——订单详情类【OrderDetail】和订单类【订单类】转至 1.2 。

**真实应用场景 5：**跨前端领域的 Java 后端大量使用了引用属性。【第 5 点可以先知道下即可】。

#### 1.2 类的引用属性真实应用场景：订单详情类和订单类

【一个订单对象有多个订单详情对象】

（1）再说明订单类产生过程

每个顾客每下一次订单，都会生成一个或者多个订单详情 【一件商品生成一个订单详情】但每次只能生成一个订单，也就是一个订单中包含了一个或者多个订单详情，我们可以定义一个订单类【Order】

订单类包括了订单 Id，订单日期，顾客地址，顾客名，顾客微信，顾客手机号，客服

（2）先说明订单详情类产生过程

顾客在淘宝上下一次订单购买了三件商品，用三条记录来表示：

第一个订单详情记录： 1 "笔记本" 6898 8
第二个订单详情记录： 2 "电脑桌" 7878 9
第三个订单详情记录： 3 "手机" 3789 2
每一个订单详情都可以用一个对象来表示 【订单详情对象】

创建一个订单详情类【OrderDetail】 然后 new 出 3 个订单详情类的实例 【当然也可以 new 出 n 个】

#### 1.3 编码

### 【第二章 第 9 节】

#### 2-9 类— 构造器简洁的属性赋值+TypeScript4 类中的新特性 【体会优化的属性定义和赋值带来的优势】

#### 1.1 构造器简洁赋值

```

```

#### 1.2 TypeScript4 的新特性

### 慕课 TS 高级课程

​
